<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<h:head></h:head> 
<body>
	<ui:composition>
		<div class='box-body'>
						
			<h:dataTable id="tablaSolicitud" rowClasses="text-center" class="table table-striped table-hover" value="#{listaSolicitud}" var="solicitud">
				<h:column>
					<f:facet name="header">Estado</f:facet>					
					<h:outputLabel value="#{solicitud.estado}" styleClass="label label-#{controllerSolicitud.colorSolicitudEstado(solicitud.estado)}"/>
				</h:column>
				
				<h:column>
					<f:facet name="header">Pretenciones</f:facet>
					 <h:outputText value="#{solicitud.cuantia}"/>
				</h:column>	
				
				<h:column>
					<f:facet name="header">Conciliador por</f:facet>
					 <h:outputText value="#{solicitud.designacions.get(solicitud.designacions.size()-1).tipoDesignacion}" />
				</h:column>
				
				<h:column>
					<f:facet name="header">Conciliador</f:facet>
					<h:outputText value="#{solicitud.designacions.get(solicitud.designacions.size()-1).conciliador.nombres} #{solicitud.designacions.get(solicitud.designacions.size()-1).conciliador.apellidos}"/>
				</h:column>
				
				<h:column>
					<f:facet name="header">Combocados</f:facet>
					<ul>
						<ui:repeat var="partes" value="#{solicitud.partes}" >
							<h:panelGroup rendered="#{partes.tipoParte=='Convocado'}">
								<li><h:outputText value="#{partes.nombres} #{partes.apellidos}" /></li>
							</h:panelGroup>
						</ui:repeat>
					</ul>
				</h:column>
				
				<h:column>
					<f:facet name="header">Combocantes</f:facet>
					<ul>
						<ui:repeat var="partes" value="#{solicitud.partes}" >
							<h:panelGroup rendered="#{partes.tipoParte=='Convocante'}">
								<li><h:outputText value="#{partes.nombres} #{partes.apellidos}" /></li>
							</h:panelGroup>
						</ui:repeat>
					</ul>
				</h:column>
				
				<h:column>
					<f:facet name="header">Banco</f:facet>
					<ui:repeat var="pagos" value="#{solicitud.pagos}" >
						<h:outputText value="#{controllerDominio.nombreDominio(pagos.banco)}" />
					</ui:repeat>
				</h:column>
				
				<h:column>
					<f:facet name="header">Referencia NÂ°</f:facet>
					<ui:repeat var="pagos" value="#{solicitud.pagos}" >
						<h:outputText value="#{pagos.referencia}" />
					</ui:repeat>
				</h:column>
				
				<h:column>
					<f:facet name="header">Forma de Pago</f:facet>
					
					<ui:repeat var="pagos" value="#{solicitud.pagos}" >
						<h:outputText value="#{controllerDominio.nombreDominio(pagos.formaPago)}" />
					</ui:repeat>
				</h:column>
				
				<h:column>
					<f:facet name="header">Valor Pagado</f:facet>
					
					<ui:repeat var="pagos" value="#{solicitud.pagos}" >
						<h:outputText value="#{pagos.valor}" />
					</ui:repeat>
				</h:column>          	
			</h:dataTable>
			
		</div>
	</ui:composition>

</body> 
</html>
