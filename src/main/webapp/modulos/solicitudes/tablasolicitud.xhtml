<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<h:head></h:head> 
<body>
<ui:composition>
	<div class="box-body table-responsive ">
		<table class="table" style="white-space: nowrap;">
			<thead>
				<tr>
					<th>Select</th>
					<th>Estado</th>
					<th>Pretenciones</th>
					<th>Conciliador por</th>
					<th>Conciliador</th>	
					<th>Convocados</th>
					<th>Convocantes</th>
					<th>Banco</th>
					<th>Referencia NÂ°</th>
					<th>Forma de Pago</th>
					<th>Valor Pagado</th>
				</tr>
			</thead>
			<tbody>
				<ui:repeat var="solicitud" value="#{listaSolicitud}">
				<tr class="#{controllerSolicitud.seleccionarSolicitud(solicitud.idSolicitud,solicitud.estado)}">
					<td>
						<h:panelGrid class="btn btn-xs btn-primary">
							<f:ajax event="click" listener="#{modelSolicitud.addSelectSolicitud(solicitud.idSolicitud,solicitud.estado)}" render="#{formulario}"></f:ajax>
							<i class="fa #{controllerSolicitud.changeIconSelect(solicitud.idSolicitud)}"></i>
	            		</h:panelGrid>
					</td>
					<td>					
						<h:outputLabel value="#{solicitud.estado}" styleClass="label label-#{controllerSolicitud.colorSolicitudEstado(solicitud.estado)}"/>
					</td>
				
					<td>
						 <h:outputText value="#{solicitud.cuantia}"/>
					</td>	
				
					<td>
						 <h:outputText value="#{solicitud.designacions.get(solicitud.designacions.size()-1).tipoDesignacion}" />
					</td>
				
					<td>
						<h:outputText value="#{solicitud.designacions.get(solicitud.designacions.size()-1).conciliador.apellidos} #{solicitud.designacions.get(solicitud.designacions.size()-1).conciliador.nombres} "/>
					</td>
				
					<td>
						<ul>
							<ui:repeat var="partes" value="#{solicitud.partes}" >
								<h:panelGroup rendered="#{partes.tipoParte=='Convocado'}">
									<li><h:outputText value="#{partes.nombres} #{partes.apellidos}" /></li>
								</h:panelGroup>
							</ui:repeat>
						</ul>
					</td>
					<td>
						<ul>
							<ui:repeat var="partes" value="#{solicitud.partes}" >
								<h:panelGroup rendered="#{partes.tipoParte=='Convocante'}">
									<li><h:outputText value="#{partes.nombres} #{partes.apellidos}" /></li>
								</h:panelGroup>
							</ui:repeat>
						</ul>
					</td>
				
					<td>
						<ui:repeat var="pagos" value="#{solicitud.pagos}" >
							<h:outputText value="#{controllerDominio.nombreDominio(pagos.banco)}" />
						</ui:repeat>
					</td>
				
					<td>
						<ui:repeat var="pagos" value="#{solicitud.pagos}" >
							<h:outputText value="#{pagos.referencia}" />
						</ui:repeat>
					</td>
					<td>
						<ui:repeat var="pagos" value="#{solicitud.pagos}" >
							<h:outputText value="#{controllerDominio.nombreDominio(pagos.formaPago)}" />
						</ui:repeat>
					</td>
					<td>
						<ui:repeat var="pagos" value="#{solicitud.pagos}" >
							<h:outputText value="#{pagos.valor}" />
						</ui:repeat>					
					</td>
				</tr>	
				</ui:repeat>				
			</tbody>
		</table>
	</div>
</ui:composition>

</body> 
</html>
